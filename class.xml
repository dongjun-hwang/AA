<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2024-01-01T00:00:00.000Z" agent="Claude" version="22.1.11" etag="AI_CHATBOT_STRATEGY" type="device">
  <diagram id="AI_Chatbot_Strategy_Pattern" name="AI ì±„íŒ…ë´‡ ì‹œìŠ¤í…œ - Strategy íŒ¨í„´">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1200" math="0" shadow="1">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Title -->
        <mxCell id="title" value="ðŸ¤– AI ì±„íŒ…ë´‡ ì‹œìŠ¤í…œ - Strategy íŒ¨í„´" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#2c3e50;" vertex="1" parent="1">
          <mxGeometry x="600" y="20" width="400" height="40" as="geometry" />
        </mxCell>

        <!-- ChatRequest -->
        <mxCell id="ChatRequest" value="ChatRequest" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="100" y="100" width="200" height="200" as="geometry" />
        </mxCell>
        <mxCell id="ChatRequest_fields" value="+message: String&#xa;+userId: String&#xa;+sessionId: String&#xa;+requestType: RequestType&#xa;+maxTokens: int&#xa;+temperature: double&#xa;+language: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="ChatRequest">
          <mxGeometry y="30" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ChatRequest_line" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="ChatRequest">
          <mxGeometry y="130" width="200" height="8" as="geometry" />
        </mxCell>
        <mxCell id="ChatRequest_methods" value="+requiresReasoning(): boolean&#xa;+isMultiModal(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="ChatRequest">
          <mxGeometry y="138" width="200" height="62" as="geometry" />
        </mxCell>

        <!-- ChatbotService (Context) -->
        <mxCell id="ChatbotService" value="ChatbotService" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="600" y="100" width="280" height="180" as="geometry" />
        </mxCell>
        <mxCell id="ChatbotService_fields" value="-currentStrategy: AIModelStrategy&#xa;-modelSelector: ModelSelector&#xa;-responseProcessor: ResponseProcessor" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="ChatbotService">
          <mxGeometry y="30" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ChatbotService_line" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="ChatbotService">
          <mxGeometry y="80" width="280" height="8" as="geometry" />
        </mxCell>
        <mxCell id="ChatbotService_methods" value="+chat(request: ChatRequest): ChatResponse&#xa;+setAIModel(strategy: AIModelStrategy): void&#xa;-selectStrategy(request: ChatRequest): AIModelStrategy&#xa;+validateRequest(request: ChatRequest): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="ChatbotService">
          <mxGeometry y="88" width="280" height="92" as="geometry" />
        </mxCell>

        <!-- ChatResponse -->
        <mxCell id="ChatResponse" value="ChatResponse" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1150" y="100" width="200" height="180" as="geometry" />
        </mxCell>
        <mxCell id="ChatResponse_fields" value="+content: String&#xa;+modelUsed: String&#xa;+tokensUsed: int&#xa;+responseTime: long&#xa;+confidence: double&#xa;+cost: double" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="ChatResponse">
          <mxGeometry y="30" width="200" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ChatResponse_line" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="ChatResponse">
          <mxGeometry y="120" width="200" height="8" as="geometry" />
        </mxCell>
        <mxCell id="ChatResponse_methods" value="+isSuccessful(): boolean&#xa;+getFormattedResponse(): String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="ChatResponse">
          <mxGeometry y="128" width="200" height="52" as="geometry" />
        </mxCell>

        <!-- AIModelStrategy (Abstract/Interface) -->
        <mxCell id="AIModelStrategy" value="&lt;&lt;abstract&gt;&gt;&#xa;AIModelStrategy" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="600" y="350" width="280" height="160" as="geometry" />
        </mxCell>
        <mxCell id="AIModelStrategy_line" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="AIModelStrategy">
          <mxGeometry y="40" width="280" height="8" as="geometry" />
        </mxCell>
        <mxCell id="AIModelStrategy_methods" value="+generateResponse(request: ChatRequest): ChatResponse&#xa;+validateRequest(request: ChatRequest): boolean&#xa;+getModelInfo(): ModelInfo&#xa;+estimateCost(request: ChatRequest): double&#xa;+getMaxTokens(): int&#xa;+supportsStreaming(): boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="AIModelStrategy">
          <mxGeometry y="48" width="280" height="112" as="geometry" />
        </mxCell>

        <!-- ModelSelector -->
        <mxCell id="ModelSelector" value="ModelSelector" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="300" y="350" width="220" height="140" as="geometry" />
        </mxCell>
        <mxCell id="ModelSelector_line" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="ModelSelector">
          <mxGeometry y="30" width="220" height="8" as="geometry" />
        </mxCell>
        <mxCell id="ModelSelector_methods" value="+selectBestModel(request): AIModelStrategy&#xa;+evaluateUserPlan(user): ModelPriority&#xa;+checkModelAvailability(): Map&#xa;-calculateCostEfficiency(): double&#xa;-evaluateStrategies(): List&lt;AIModelStrategy&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="ModelSelector">
          <mxGeometry y="38" width="220" height="102" as="geometry" />
        </mxCell>

        <!-- ResponseProcessor -->
        <mxCell id="ResponseProcessor" value="ResponseProcessor" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="950" y="350" width="220" height="120" as="geometry" />
        </mxCell>
        <mxCell id="ResponseProcessor_line" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="ResponseProcessor">
          <mxGeometry y="30" width="220" height="8" as="geometry" />
        </mxCell>
        <mxCell id="ResponseProcessor_methods" value="+processResponse(response): ChatResponse&#xa;+applyFilters(content): String&#xa;+formatResponse(content): String&#xa;+logInteraction(request, response): void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="ResponseProcessor">
          <mxGeometry y="38" width="220" height="82" as="geometry" />
        </mxCell>

        <!-- Concrete Strategies -->
        <!-- GPTStrategy -->
        <mxCell id="GPTStrategy" value="GPTStrategy" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="200" y="600" width="200" height="160" as="geometry" />
        </mxCell>
        <mxCell id="GPTStrategy_fields" value="-openAIClient: OpenAIClient&#xa;-apiKey: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="GPTStrategy">
          <mxGeometry y="30" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GPTStrategy_line" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="GPTStrategy">
          <mxGeometry y="60" width="200" height="8" as="geometry" />
        </mxCell>
        <mxCell id="GPTStrategy_methods" value="+generateResponse(request): ChatResponse&#xa;+validateRequest(request): boolean&#xa;+getModelInfo(): ModelInfo&#xa;-buildGPTRequest(request): GPTRequest&#xa;-parseGPTResponse(response): ChatResponse" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="GPTStrategy">
          <mxGeometry y="68" width="200" height="92" as="geometry" />
        </mxCell>

        <!-- ClaudeStrategy -->
        <mxCell id="ClaudeStrategy" value="ClaudeStrategy" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="450" y="600" width="200" height="160" as="geometry" />
        </mxCell>
        <mxCell id="ClaudeStrategy_fields" value="-anthropicClient: AnthropicClient&#xa;-apiKey: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="ClaudeStrategy">
          <mxGeometry y="30" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ClaudeStrategy_line" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="ClaudeStrategy">
          <mxGeometry y="60" width="200" height="8" as="geometry" />
        </mxCell>
        <mxCell id="ClaudeStrategy_methods" value="+generateResponse(request): ChatResponse&#xa;+validateRequest(request): boolean&#xa;+getModelInfo(): ModelInfo&#xa;-buildClaudeRequest(request): ClaudeRequest&#xa;-parseClaudeResponse(response): ChatResponse" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="ClaudeStrategy">
          <mxGeometry y="68" width="200" height="92" as="geometry" />
        </mxCell>

        <!-- GeminiStrategy -->
        <mxCell id="GeminiStrategy" value="GeminiStrategy" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="700" y="600" width="200" height="160" as="geometry" />
        </mxCell>
        <mxCell id="GeminiStrategy_fields" value="-googleClient: GoogleAIClient&#xa;-apiKey: String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="GeminiStrategy">
          <mxGeometry y="30" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GeminiStrategy_line" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="GeminiStrategy">
          <mxGeometry y="60" width="200" height="8" as="geometry" />
        </mxCell>
        <mxCell id="GeminiStrategy_methods" value="+generateResponse(request): ChatResponse&#xa;+validateRequest(request): boolean&#xa;+getModelInfo(): ModelInfo&#xa;-buildGeminiRequest(request): GeminiRequest&#xa;-parseGeminiResponse(response): ChatResponse" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="GeminiStrategy">
          <mxGeometry y="68" width="200" height="92" as="geometry" />
        </mxCell>

        <!-- LocalLLamaStrategy -->
        <mxCell id="LocalLLamaStrategy" value="LocalLLamaStrategy" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="950" y="600" width="200" height="160" as="geometry" />
        </mxCell>
        <mxCell id="LocalLLamaStrategy_fields" value="-modelPath: String&#xa;-localClient: LocalModelClient" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="LocalLLamaStrategy">
          <mxGeometry y="30" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LocalLLamaStrategy_line" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="LocalLLamaStrategy">
          <mxGeometry y="60" width="200" height="8" as="geometry" />
        </mxCell>
        <mxCell id="LocalLLamaStrategy_methods" value="+generateResponse(request): ChatResponse&#xa;+validateRequest(request): boolean&#xa;+getModelInfo(): ModelInfo&#xa;-loadLocalModel(): void&#xa;-runInference(request): String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=10;" vertex="1" parent="LocalLLamaStrategy">
          <mxGeometry y="68" width="200" height="92" as="geometry" />
        </mxCell>

        <!-- Relationships -->

        <!-- ChatbotService uses ChatRequest -->
        <mxCell id="uses_request" value="uses" style="endArrow=open;html=1;endSize=12;startArrow=none;startSize=0;startFill=0;endFill=0;strokeColor=#666666;fontSize=10;fontColor=#666666;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="ChatbotService" target="ChatRequest">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="400" as="sourcePoint" />
            <mxPoint x="620" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ChatbotService produces ChatResponse -->
        <mxCell id="produces_response" value="produces" style="endArrow=open;html=1;endSize=12;startArrow=none;startSize=0;startFill=0;endFill=0;strokeColor=#666666;fontSize=10;fontColor=#666666;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="ChatbotService" target="ChatResponse">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="400" as="sourcePoint" />
            <mxPoint x="620" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ChatbotService uses AIModelStrategy -->
        <mxCell id="uses_strategy" value="uses" style="endArrow=open;html=1;endSize=12;startArrow=none;startSize=0;startFill=0;endFill=0;strokeColor=#666666;fontSize=10;fontColor=#666666;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ChatbotService" target="AIModelStrategy">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="400" as="sourcePoint" />
            <mxPoint x="620" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ChatbotService uses ModelSelector -->
        <mxCell id="uses_selector" value="uses" style="endArrow=open;html=1;endSize=12;startArrow=none;startSize=0;startFill=0;endFill=0;strokeColor=#666666;fontSize=10;fontColor=#666666;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ChatbotService" target="ModelSelector">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="400" as="sourcePoint" />
            <mxPoint x="620" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ChatbotService uses ResponseProcessor -->
        <mxCell id="uses_processor" value="uses" style="endArrow=open;html=1;endSize=12;startArrow=none;startSize=0;startFill=0;endFill=0;strokeColor=#666666;fontSize=10;fontColor=#666666;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ChatbotService" target="ResponseProcessor">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="400" as="sourcePoint" />
            <mxPoint x="620" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ModelSelector uses AIModelStrategy -->
        <mxCell id="selector_uses_strategy" value="uses/evaluates" style="endArrow=open;html=1;endSize=12;startArrow=none;startSize=0;startFill=0;endFill=0;strokeColor=#666666;fontSize=10;fontColor=#666666;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="ModelSelector" target="AIModelStrategy">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="400" as="sourcePoint" />
            <mxPoint x="620" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- AIModelStrategy implementations -->
        <mxCell id="gpt_implements" value="implements" style="endArrow=block;html=1;endSize=12;startArrow=none;startSize=0;startFill=0;endFill=0;strokeColor=#666666;fontSize=10;fontColor=#666666;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="GPTStrategy" target="AIModelStrategy">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="550" as="sourcePoint" />
            <mxPoint x="620" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="claude_implements" value="implements" style="endArrow=block;html=1;endSize=12;startArrow=none;startSize=0;startFill=0;endFill=0;strokeColor=#666666;fontSize=10;fontColor=#666666;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.42;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="ClaudeStrategy" target="AIModelStrategy">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="550" as="sourcePoint" />
            <mxPoint x="620" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="gemini_implements" value="implements" style="endArrow=block;html=1;endSize=12;startArrow=none;startSize=0;startFill=0;endFill=0;strokeColor=#666666;fontSize=10;fontColor=#666666;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.58;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="GeminiStrategy" target="AIModelStrategy">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="550" as="sourcePoint" />
            <mxPoint x="620" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="llama_implements" value="implements" style="endArrow=block;html=1;endSize=12;startArrow=none;startSize=0;startFill=0;endFill=0;strokeColor=#666666;fontSize=10;fontColor=#666666;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="LocalLLamaStrategy" target="AIModelStrategy">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="550" as="sourcePoint" />
            <mxPoint x="620" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend_title" value="ë²”ë¡€ (Legend)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#2c3e50;" vertex="1" parent="1">
          <mxGeometry x="100" y="850" width="120" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_context" value="Context (ChatbotService)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="100" y="890" width="150" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_strategy" value="Strategy Interface" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="270" y="890" width="120" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_concrete" value="Concrete Strategy" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="410" y="890" width="120" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_data" value="Data Class" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="550" y="890" width="100" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_helper" value="Helper Class" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="670" y="890" width="100" height="30" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
