<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PG 플랫폼 Package Diagram</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f8f9fa;
        }
        
        .diagram-container {
            position: relative;
            width: 1200px;
            height: 900px;
            border: 2px solid #333;
            background: white;
            margin: 0 auto;
        }
        
        .package {
            position: absolute;
            border: 2px solid #666;
            border-radius: 8px;
            padding: 15px;
            font-size: 12px;
        }
        
        .package-title {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 14px;
            text-align: center;
            padding-bottom: 5px;
            border-bottom: 1px solid #999;
        }
        
        .component {
            border: 1px solid #333;
            padding: 6px 10px;
            margin: 5px 0;
            background: white;
            text-align: center;
            border-radius: 3px;
            font-size: 11px;
        }
        
        .inline-component {
            border: 1px solid #333;
            padding: 4px 8px;
            margin: 2px;
            background: white;
            text-align: center;
            border-radius: 3px;
            font-size: 10px;
            display: inline-block;
            width: 80px;
        }
        
        /* Package Styles */
        .frontend { 
            background-color: #e3f2fd; 
            top: 50px; 
            left: 50px; 
            width: 280px; 
            height: 160px; 
        }
        
        .api-gateway { 
            background-color: #e8f5e8; 
            top: 50px; 
            left: 380px; 
            width: 280px; 
            height: 160px; 
        }
        
        .sys-mgmt { 
            background-color: #f1f8e9; 
            top: 50px; 
            left: 720px; 
            width: 220px; 
            height: 200px; 
        }
        
        .payment-service { 
            background-color: #fff3e0; 
            top: 270px; 
            left: 50px; 
            width: 200px; 
            height: 140px; 
        }
        
        .mgmt-service { 
            background-color: #fff3e0; 
            top: 270px; 
            left: 290px; 
            width: 200px; 
            height: 140px; 
        }
        
        .support-service { 
            background-color: #fff3e0; 
            top: 270px; 
            left: 530px; 
            width: 200px; 
            height: 140px; 
        }
        
        .external-interface { 
            background-color: #f3e5f5; 
            top: 450px; 
            left: 290px; 
            width: 200px; 
            height: 100px; 
        }
        
        .external-connectors { 
            background-color: #ffebee; 
            top: 580px; 
            left: 50px; 
            width: 680px; 
            height: 90px; 
        }
        
        .data-layer { 
            background-color: #fce4ec; 
            top: 700px; 
            left: 50px; 
            width: 880px; 
            height: 100px; 
        }
        
        /* Association Lines - Simple approach */
        .arrow-h {
            position: absolute;
            height: 2px;
            background-color: #666;
            border-right: 8px solid #666;
            border-top: 4px solid transparent;
            border-bottom: 4px solid transparent;
        }
        
        .arrow-v {
            position: absolute;
            width: 2px;
            background-color: #666;
            border-bottom: 8px solid #666;
            border-left: 4px solid transparent;
            border-right: 4px solid transparent;
        }
        
        .arrow-label {
            position: absolute;
            background: white;
            padding: 2px 6px;
            font-size: 10px;
            color: #666;
            border: 1px solid #ddd;
            border-radius: 3px;
        }
        
        .title {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="title">PG 플랫폼 Package Diagram</div>
    
    <div class="diagram-container">
        
        <!-- Frontend Package -->
        <div class="package frontend">
            <div class="package-title">front_end</div>
            <div class="component">web.user</div>
            <div class="component">web.admin</div>
            <div class="component">mobile.app</div>
            <div class="component">pos.device</div>
        </div>
        
        <!-- API Gateway Package -->
        <div class="package api-gateway">
            <div class="package-title">api_gw</div>
            <div class="component">router</div>
            <div class="component">auth</div>
            <div class="component">security</div>
            <div class="component">loadbalancer</div>
        </div>
        
        <!-- System Management Package -->
        <div class="package sys-mgmt">
            <div class="package-title">sys_mgmt</div>
            <div class="component">devops</div>
            <div class="component">monitoring</div>
            <div class="component">security</div>
            <div class="component">backup</div>
            <div class="component">deployment</div>
        </div>
        
        <!-- Payment Service Package -->
        <div class="package payment-service">
            <div class="package-title">pg_svc.payment</div>
            <div class="component">core</div>
            <div class="component">processor</div>
            <div class="component">validator</div>
            <div class="component">pgpay</div>
        </div>
        
        <!-- Management Service Package -->
        <div class="package mgmt-service">
            <div class="package-title">pg_svc.mgmt</div>
            <div class="component">merchant</div>
            <div class="component">contract</div>
            <div class="component">settlement</div>
            <div class="component">fee</div>
        </div>
        
        <!-- Support Service Package -->
        <div class="package support-service">
            <div class="package-title">pg_svc.support</div>
            <div class="component">ai.service</div>
            <div class="component">helpdesk</div>
            <div class="component">monitoring</div>
            <div class="component">notification</div>
        </div>
        
        <!-- External Interface Package -->
        <div class="package external-interface">
            <div class="package-title">external_if</div>
            <div class="component">api.client</div>
            <div class="component">event.broker</div>
            <div class="component">webhook</div>
        </div>
        
        <!-- External Connectors Package -->
        <div class="package external-connectors">
            <div class="package-title">external_connector</div>
            <div class="inline-component">VAN</div>
            <div class="inline-component">Bank</div>
            <div class="inline-component">SimplePay</div>
            <div class="inline-component">CardCorp</div>
            <div class="inline-component">ERP</div>
            <div class="inline-component">SMS/Push</div>
        </div>
        
        <!-- Data Layer Package -->
        <div class="package data-layer">
            <div class="package-title">data_layer</div>
            <div class="inline-component">PaymentDB</div>
            <div class="inline-component">PGPayDB</div>
            <div class="inline-component">MgmtDB</div>
            <div class="inline-component">AnalyticsDB</div>
            <div class="inline-component">CacheDB</div>
            <div class="inline-component">FileStorage</div>
            <div class="inline-component">BatchLayer</div>
            <div class="inline-component">StreamLayer</div>
        </div>
        
        <!-- Association Arrows -->
        
        <!-- Frontend to API Gateway -->
        <div class="arrow-h" style="top: 129px; left: 330px; width: 42px;"></div>
        <div class="arrow-label" style="top: 115px; left: 335px;">requests</div>
        
        <!-- API Gateway to Services -->
        <div class="arrow-v" style="top: 210px; left: 149px; height: 52px;"></div>
        <div class="arrow-v" style="top: 210px; left: 389px; height: 52px;"></div>
        <div class="arrow-v" style="top: 210px; left: 629px; height: 52px;"></div>
        <div class="arrow-label" style="top: 230px; left: 120px;">route</div>
        
        <!-- Services to External Interface -->
        <div class="arrow-v" style="top: 410px; left: 389px; height: 32px;"></div>
        <div class="arrow-label" style="top: 420px; left: 350px;">external</div>
        
        <!-- External Interface to External Connectors -->
        <div class="arrow-v" style="top: 550px; left: 389px; height: 22px;"></div>
        <div class="arrow-label" style="top: 560px; left: 350px;">connect</div>
        
        <!-- External Connectors to Data Layer -->
        <div class="arrow-v" style="top: 670px; left: 389px; height: 22px;"></div>
        <div class="arrow-label" style="top: 680px; left: 350px;">store</div>
        
        <!-- Services to Data Layer -->
        <div class="arrow-v" style="top: 410px; left: 149px; height: 282px;"></div>
        <div class="arrow-v" style="top: 410px; left: 629px; height: 282px;"></div>
        <div class="arrow-label" style="top: 550px; left: 120px;">persist</div>
        
        <!-- System Management to API Gateway -->
        <div class="arrow-h" style="top: 129px; left: 668px; width: 44px; transform: scaleX(-1);"></div>
        <div class="arrow-label" style="top: 115px; left: 680px;">manage</div>
        
    </div>
</body>
</html
