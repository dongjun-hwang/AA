<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PG 플랫폼 Package Diagram</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f8f9fa;
        }
        
        .diagram-container {
            position: relative;
            width: 1200px;
            height: 900px;
            border: 2px solid #333;
            background: white;
            margin: 0 auto;
        }
        
        .package {
            position: absolute;
            border: 2px solid #666;
            border-radius: 8px;
            padding: 15px;
            font-size: 12px;
        }
        
        .package-title {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 14px;
            text-align: center;
            padding-bottom: 5px;
            border-bottom: 1px solid #999;
        }
        
        .component {
            border: 1px solid #333;
            padding: 6px 10px;
            margin: 5px 0;
            background: white;
            text-align: center;
            border-radius: 3px;
            font-size: 11px;
        }
        
        /* Package Styles */
        .frontend { background-color: #e3f2fd; top: 50px; left: 50px; width: 260px; height: 150px; }
        .api-gateway { background-color: #e8f5e8; top: 50px; left: 350px; width: 260px; height: 150px; }
        .payment-service { background-color: #fff3e0; top: 250px; left: 50px; width: 200px; height: 120px; }
        .mgmt-service { background-color: #fff3e0; top: 250px; left: 280px; width: 200px; height: 120px; }
        .support-service { background-color: #fff3e0; top: 250px; left: 510px; width: 200px; height: 120px; }
        .external-interface { background-color: #f3e5f5; top: 400px; left: 280px; width: 200px; height: 100px; }
        .external-connectors { background-color: #ffebee; top: 530px; left: 50px; width: 560px; height: 80px; }
        .data-layer { background-color: #fce4ec; top: 640px; left: 50px; width: 660px; height: 120px; }
        .sys-mgmt { background-color: #f1f8e9; top: 50px; left: 650px; width: 200px; height: 200px; }
        
        /* Association Lines */
        .association {
            position: absolute;
            border: 1px dashed #666;
        }
        
        .arrow::after {
            content: '▶';
            position: absolute;
            right: -8px;
            top: -8px;
            color: #666;
            font-size: 10px;
        }
        
        .label {
            position: absolute;
            background: white;
            padding: 2px 4px;
            font-size: 10px;
            color: #666;
            border: 1px solid #ddd;
            border-radius: 3px;
        }
        
        .title {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="title">PG 플랫폼 Package Diagram</div>
    
    <div class="diagram-container">
        <!-- Frontend Package -->
        <div class="package frontend">
            <div class="package-title">front_end</div>
            <div class="component">web.user</div>
            <div class="component">web.admin</div>
            <div class="component">mobile.app</div>
            <div class="component">pos.device</div>
        </div>
        
        <!-- API Gateway Package -->
        <div class="package api-gateway">
            <div class="package-title">api_gw</div>
            <div class="component">router</div>
            <div class="component">auth</div>
            <div class="component">security</div>
            <div class="component">loadbalancer</div>
        </div>
        
        <!-- Payment Service Package -->
        <div class="package payment-service">
            <div class="package-title">pg_svc.payment</div>
            <div class="component">core</div>
            <div class="component">processor</div>
            <div class="component">validator</div>
            <div class="component">pgpay</div>
        </div>
        
        <!-- Management Service Package -->
        <div class="package mgmt-service">
            <div class="package-title">pg_svc.mgmt</div>
            <div class="component">merchant</div>
            <div class="component">contract</div>
            <div class="component">settlement</div>
            <div class="component">fee</div>
        </div>
        
        <!-- Support Service Package -->
        <div class="package support-service">
            <div class="package-title">pg_svc.support</div>
            <div class="component">ai.service</div>
            <div class="component">helpdesk</div>
            <div class="component">monitoring</div>
            <div class="component">notification</div>
        </div>
        
        <!-- External Interface Package -->
        <div class="package external-interface">
            <div class="package-title">external_if</div>
            <div class="component">api.client</div>
            <div class="component">event.broker</div>
            <div class="component">webhook</div>
        </div>
        
        <!-- External Connectors Package -->
        <div class="package external-connectors">
            <div class="package-title">external_connector</div>
            <div class="component" style="display: inline-block; width: 80px; margin: 3px;">VAN</div>
            <div class="component" style="display: inline-block; width: 80px; margin: 3px;">Bank</div>
            <div class="component" style="display: inline-block; width: 80px; margin: 3px;">SimplePay</div>
            <div class="component" style="display: inline-block; width: 80px; margin: 3px;">CardCorp</div>
            <div class="component" style="display: inline-block; width: 80px; margin: 3px;">ERP</div>
        </div>
        
        <!-- Data Layer Package -->
        <div class="package data-layer">
            <div class="package-title">data_layer</div>
            <div class="component" style="display: inline-block; width: 100px; margin: 3px;">PaymentDB</div>
            <div class="component" style="display: inline-block; width: 100px; margin: 3px;">PGPayDB</div>
            <div class="component" style="display: inline-block; width: 100px; margin: 3px;">MgmtDB</div>
            <div class="component" style="display: inline-block; width: 100px; margin: 3px;">AnalyticsDB</div>
            <div class="component" style="display: inline-block; width: 100px; margin: 3px;">CacheDB</div>
            <div class="component" style="display: inline-block; width: 100px; margin: 3px;">FileStorage</div>
        </div>
        
        <!-- System Management Package -->
        <div class="package sys-mgmt">
            <div class="package-title">sys_mgmt</div>
            <div class="component">devops</div>
            <div class="component">monitoring</div>
            <div class="component">security</div>
            <div class="component">backup</div>
            <div class="component">deployment</div>
        </div>
        
        <!-- Association Lines -->
        
        <!-- Frontend to API Gateway -->
        <div class="association arrow" style="top: 125px; left: 310px; width: 40px; height: 1px;"></div>
        <div class="label" style="top: 115px; left: 315px;">requests</div>
        
        <!-- API Gateway to Payment Service -->
        <div class="association arrow" style="top: 210px; left: 430px; width: 1px; height: 40px; transform: rotate(90deg); transform-origin: 0 0;"></div>
        <div class="label" style="top: 220px; left: 400px;">route</div>
        
        <!-- API Gateway to Management Service -->
        <div class="association arrow" style="top: 210px; left: 460px; width: 1px; height: 40px; transform: rotate(90deg); transform-origin: 0 0;"></div>
        
        <!-- API Gateway to Support Service -->
        <div class="association arrow" style="top: 210px; left: 550px; width: 1px; height: 40px; transform: rotate(90deg); transform-origin: 0 0;"></div>
        
        <!-- Services to External Interface -->
        <div class="association arrow" style="top: 370px; left: 250px; width: 30px; height: 1px;"></div>
        <div class="association arrow" style="top: 370px; left: 380px; width: 1px; height: 30px; transform: rotate(90deg); transform-origin: 0 0;"></div>
        <div class="association arrow" style="top: 370px; left: 510px; width: 30px; height: 1px; transform: rotate(180deg);"></div>
        
        <!-- External Interface to External Connectors -->
        <div class="association arrow" style="top: 500px; left: 380px; width: 1px; height: 30px; transform: rotate(90deg); transform-origin: 0 0;"></div>
        <div class="label" style="top: 510px; left: 350px;">connect</div>
        
        <!-- External Connectors to Data Layer -->
        <div class="association arrow" style="top: 610px; left: 330px; width: 1px; height: 30px; transform: rotate(90deg); transform-origin: 0 0;"></div>
        <div class="label" style="top: 620px; left: 300px;">store</div>
        
        <!-- System Management to API Gateway -->
        <div class="association arrow" style="top: 125px; left: 610px; width: 40px; height: 1px; transform: rotate(180deg);"></div>
        <div class="label" style="top: 115px; left: 620px;">manage</div>
        
        <!-- System Management to Services (vertical line) -->
        <div class="association arrow" style="top: 250px; left: 750px; width: 1px; height: 120px; transform: rotate(90deg); transform-origin: 0 0;"></div>
        
        <!-- Services to Data Layer -->
        <div class="association arrow" style="top: 520px; left: 150px; width: 1px; height: 120px; transform: rotate(90deg); transform-origin: 0 0;"></div>
        <div class="association arrow" style="top: 520px; left: 380px; width: 1px; height: 120px; transform: rotate(90deg); transform-origin: 0 0;"></div>
        <div class="association arrow" style="top: 520px; left: 610px; width: 1px; height: 120px; transform: rotate(90deg); transform-origin: 0 0;"></div>
        <div class="label" style="top: 580px; left: 120px;">persist</div>
    </div>
</body>
</html>
